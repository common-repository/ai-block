{"version":3,"file":"index.js","mappings":"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","sources":["webpack://ai-block/./node_modules/@wordpress/icons/build-module/library/check.js","webpack://ai-block/./node_modules/@wordpress/icons/build-module/library/more-horizontal-mobile.js","webpack://ai-block/./node_modules/@wordpress/icons/build-module/library/update.js","webpack://ai-block/./src/icons.tsx","webpack://ai-block/./src/settings.tsx","webpack://ai-block/./src/index.scss?577e","webpack://ai-block/external window [\"wp\",\"apiFetch\"]","webpack://ai-block/external window [\"wp\",\"blockEditor\"]","webpack://ai-block/external window [\"wp\",\"blocks\"]","webpack://ai-block/external window [\"wp\",\"components\"]","webpack://ai-block/external window [\"wp\",\"compose\"]","webpack://ai-block/external window [\"wp\",\"data\"]","webpack://ai-block/external window [\"wp\",\"editPost\"]","webpack://ai-block/external window [\"wp\",\"editSite\"]","webpack://ai-block/external window [\"wp\",\"element\"]","webpack://ai-block/external window [\"wp\",\"i18n\"]","webpack://ai-block/external window [\"wp\",\"plugins\"]","webpack://ai-block/external window [\"wp\",\"primitives\"]","webpack://ai-block/webpack/bootstrap","webpack://ai-block/webpack/runtime/compat get default export","webpack://ai-block/webpack/runtime/define property getters","webpack://ai-block/webpack/runtime/hasOwnProperty shorthand","webpack://ai-block/webpack/runtime/make namespace object","webpack://ai-block/./src/index.tsx"],"sourcesContent":["import { createElement } from \"@wordpress/element\";\n\n/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\nconst check = createElement(SVG, {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\"\n}, createElement(Path, {\n  d: \"M16.7 7.1l-6.3 8.5-3.3-2.5-.9 1.2 4.5 3.4L17.9 8z\"\n}));\nexport default check;\n//# sourceMappingURL=check.js.map","import { createElement } from \"@wordpress/element\";\n\n/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\nconst moreHorizontalMobile = createElement(SVG, {\n  viewBox: \"0 0 24 24\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n}, createElement(Path, {\n  d: \"M7.5 12C7.5 11.1716 6.82843 10.5 6 10.5C5.17157 10.5 4.5 11.1716 4.5 12C4.5 12.8284 5.17157 13.5 6 13.5C6.82843 13.5 7.5 12.8284 7.5 12Z\"\n}), createElement(Path, {\n  d: \"M13.5 12C13.5 11.1716 12.8284 10.5 12 10.5C11.1716 10.5 10.5 11.1716 10.5 12C10.5 12.8284 11.1716 13.5 12 13.5C12.8284 13.5 13.5 12.8284 13.5 12Z\"\n}), createElement(Path, {\n  d: \"M19.5 12C19.5 11.1716 18.8284 10.5 18 10.5C17.1716 10.5 16.5 11.1716 16.5 12C16.5 12.8284 17.1716 13.5 18 13.5C18.8284 13.5 19.5 12.8284 19.5 12Z\"\n}));\nexport default moreHorizontalMobile;\n//# sourceMappingURL=more-horizontal-mobile.js.map","import { createElement } from \"@wordpress/element\";\n\n/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\nconst update = createElement(SVG, {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\"\n}, createElement(Path, {\n  d: \"m11.3 17.2-5-5c-.1-.1-.1-.3 0-.4l2.3-2.3-1.1-1-2.3 2.3c-.7.7-.7 1.8 0 2.5l5 5H7.5v1.5h5.3v-5.2h-1.5v2.6zm7.5-6.4-5-5h2.7V4.2h-5.2v5.2h1.5V6.8l5 5c.1.1.1.3 0 .4l-2.3 2.3 1.1 1.1 2.3-2.3c.6-.7.6-1.9-.1-2.5z\"\n}));\nexport default update;\n//# sourceMappingURL=update.js.map","import { SVG, Path } from '@wordpress/primitives';\n\nexport const pluginIcon =\n                 <SVG xmlns=\"http://www.w3.org/2000/svg\" xmlSpace=\"preserve\" viewBox=\"0 0 640 640\" fill={ 'currentColor' }><Path d=\"M624.4 233.2c0-7.2-2.9-12.4-9.1-16-17.9-10.3-35.6-20.8-53.7-30.9-4-2.2-5.4-4.8-5.3-9.1.2-10.3.1-20.7.1-31s-.1-20.7 0-31c.1-6.8-2.7-11.8-8.5-15.2-6.5-3.7-13-7.5-19.5-11.2-43.7-25.2-87.3-50.5-131-75.8-6.6-3.8-12.8-3.9-19.3-.1-17.8 10.4-35.9 20.5-53.6 31.1-3.7 2.2-6.1 2-9.5 0-18-10.5-36.1-20.7-54-31.3-6.3-3.7-12.2-3.6-18.4 0-3.2 1.9-6.3 3.7-9.5 5.5-46.8 27.1-93.6 54.3-140.5 81.2-6.5 3.8-9.4 8.8-9.3 16.2.2 20.3-.1 40.7.1 61 0 4.5-1.1 7.3-5.2 9.6-18 10.1-35.7 20.7-53.6 30.9-6.2 3.6-9.2 8.5-9.1 15.8.2 57.7.2 115.3 0 173 0 8.4 3.4 13.7 10.4 17.7 15.2 8.6 29.9 18.2 45.6 25.8 10 4.8 12.4 11.4 12.1 21.5-.6 18-.1 36-.2 54 0 6.2 2.1 11.2 7.4 14.3 11.1 6.6 22.4 13.1 33.7 19.6 23.1 13.3 46.2 26.6 69.2 39.9 16.4 9.5 32.8 19 49.3 28.5 6.1 3.5 12.2 3.4 18.4-.2 17.9-10.5 36-20.9 54-31.4 3-1.7 5.3-2.1 8.6-.1 17.4 10.4 35.2 20.3 52.6 30.6 7.5 4.4 14.3 4.7 22 .3 49.4-28.8 99-57.4 148.6-86 6.4-3.7 9.4-8.9 9.3-16.3-.2-20.2.1-40.3-.2-60.5-.1-5 1.4-7.9 5.8-10.3 17.7-9.9 35.3-20.1 52.9-30.2 6.2-3.5 9.4-8.6 9.4-15.9-.1-58-.1-116 0-174zM335.3 81.9c-.1-5.9 1.7-9.2 7.1-12.1 14.1-7.5 27.7-15.9 41.6-23.7 1.8-1 5.1-1.5 6.7-.6 16.1 9 32.1 18.3 48 27.6.5.3 1 .8 2.4 2-7.1 4.2-13.4 8-19.9 11.7-13.8 8-27.7 15.9-41.5 24-10.6 6.2-10.4 20.7.5 27.1 18.6 11 37.4 21.7 56.1 32.6 3.5 2 7 3.9 10.4 5.9 8.6 5 17.8 2.6 22.8-5.9 4.1-7.1.7-16.9-7.6-21.7-13.1-7.6-26.2-15.1-39.3-22.7-.7-.4-1.3-.9-2.7-1.8 1.5-1.1 2.6-2 3.7-2.7 15.5-9.1 31-18.1 46.6-27 1.3-.7 3.6-.9 4.9-.2 15.8 8.9 31.5 18 47.1 27.2 1.4.8 2.6 3.1 2.6 4.8.2 18 .2 36 0 54 0 2-1.9 4.7-3.7 5.8-16.8 9.8-33.7 19.4-50.6 29-.4.2-.9.5-1.3.8-11.3 10.6-21 3.8-31.3-2.3-32.9-19.3-65.9-38.3-98.9-57.3-3-1.7-3.9-3.5-3.9-7 .4-22.5.5-45 .2-67.5zm-220.6 45c0-1.9 1.8-4.6 3.5-5.7 14.9-8.9 30-17.3 44.9-26.1 2.6-1.5 4.4-1.9 7.2-.2 16.3 9.6 32.8 19 50.4 29.2-5.8 3.4-10.9 6.5-16 9.4-9.1 5.2-18.2 10.4-27.3 15.7-7.1 4.2-9.9 10.7-8.2 18.2 1.3 5.8 7.7 11.3 14.2 11.3 3.3 0 7-.9 9.9-2.6 21.4-12.1 42.8-24.4 64-36.9 4.7-2.7 9.3-5.8 10.1-12.1 1.1-8.4-2.5-13.9-9.7-17.9-18.4-10.4-36.6-21.1-54.9-31.7-1.1-.6-2.1-1.5-4-2.8 6.8-3.9 12.9-7.4 19-11 9.5-5.5 19.1-10.9 28.4-16.7 4.2-2.6 7.4-2.7 11.8 0 13.8 8.4 27.8 16.3 41.9 24.2 3 1.7 4.2 3.5 4.2 7-.2 23.8-.1 47.7 0 71.5 0 3.4-1 5.3-4.1 7.1-37 21.2-73.9 42.5-110.7 63.9-3.6 2.1-6.4 2.3-10 .1-8.2-5-16.7-9.8-25-14.6-12.1-7-24.3-13.9-36.4-21.1-1.6-1-3.2-3.5-3.2-5.4-.3-17.5-.3-35.2 0-52.8zM95.4 427.6c-14.9-8.8-30-17.3-44.9-26.2-1.9-1.1-3.7-4.1-3.7-6.2-.2-16.1.1-32.3 0-48.5 0-2.5-.7-5-1-7.3 6.8-3.8 13.9-7.7 20.8-11.7 18.9-10.9 37.7-21.9 56.5-32.9 8.2-4.8 11.1-13.8 7-21.2-4.3-7.9-13.5-10.7-21.9-6-18 10.1-35.8 20.6-53.7 30.9-2.1 1.2-4.3 2.4-7.2 3.9-.4-2-.9-3.4-.9-4.8.1-16 1-32 0-47.9-.5-8.2 3.2-11.2 9.4-14.5 13.3-7.2 26.3-15.1 39.5-22.4 1.8-1 5-1.2 6.6-.2 34.8 19.9 69.6 40 104.3 60.1 30.8 17.8 61.6 35.7 92.6 53.4 3.7 2.1 5.1 4.3 5.1 8.6-.1 37.2 0 74.3 0 111.5 0 .8-.2 1.5-.4 2.9-4.6-2.4-8.9-4.3-13-6.7-29.2-17-58.4-34-87.5-51.1-1.5-.9-2.9-3.5-3-5.3-.4-21.5-1.1-43-.4-64.5.4-12.2-12.7-21.5-24.8-14.2-21.7 13-43.7 25.4-65.6 38.1-8.5 5-11 13.9-6.4 22.2 4 7.2 13.7 9.4 22 4.7 13-7.4 26-14.9 39-22.3 1.1-.6 2.3-1.2 4.7-2.4v6.6c0 9.7-.1 19.3.1 29 .1 4.3-1.2 7-5.1 9.2-20.4 11.5-40.8 23.3-61.1 35.1-2.3 1.3-4.3 1.7-7 .1zM299.6 569c-14.9 8.2-29.4 16.9-44.2 25.2-1.6.9-4.3 1.2-5.8.4-15.7-8.7-31.3-17.7-46.8-26.7-1.1-.6-2.1-1.6-3.9-3.1 7.3-4.3 14-8.3 20.9-12.3l38.1-21.9c5.2-3 9.1-6.7 9.5-13.1.5-7-2.2-12.3-8.3-15.8-22.4-12.9-44.7-25.8-67.1-38.6-7.7-4.4-17.3-1.6-21.3 5.6-4.6 8.4-1.5 17.4 7.7 22.6 12.9 7.3 25.7 14.8 38.5 22.2.8.5 1.6 1.1 3.4 2.5-8.5 4.9-16.2 9.4-24 13.9-8.7 5-17.4 9.8-25.9 15-2.6 1.6-4.8 1.6-7.4.1-14.9-8.8-29.9-17.5-44.9-26-2.7-1.5-3.6-3.4-3.6-6.4.1-17.2.1-34.3 0-51.5 0-2.9.7-4.9 3.5-6.5 21-11.9 41.9-24 62.7-36.2 2.4-1.4 4.3-1.6 6.8-.2 27.3 15.9 54.8 31.6 82.2 47.4 10.1 5.8 20.1 11.7 30.3 17.4 3 1.6 4.2 3.5 4.2 7-.1 23.5.1 47 .2 70.5 0 3.9-1.1 6.5-4.8 8.5zm14.1-270.5c-31.4-18.5-63-36.6-94.6-54.8-.7-.4-1.3-1-2.8-2.2 3.8-2.3 6.8-4.3 9.9-6.1 30-17.3 59.9-34.6 90-51.8 1.8-1 5.1-1.3 6.7-.4 32.4 18.5 64.6 37.2 96.9 55.8 1 .6 1.9 1.3 3.6 2.6-3.7 2.3-6.9 4.5-10.2 6.5-28.8 16.7-57.7 33.2-86.5 50-4.6 2.8-8.1 3.3-13 .4zm207.7 220.8c-14.3 8.1-28.5 16.5-42.7 24.8-3.3 1.9-6.1 3.1-10 .7-15.1-9.1-30.5-17.8-45.7-26.7-.8-.5-1.5-1.2-2.7-2.2 1.2-1 2.2-1.8 3.2-2.5 12.8-7.5 25.6-14.9 38.4-22.3 8.9-5.2 12.2-14.5 7.4-22.3-3.9-6.4-13.6-10.4-22.7-4.9-21.7 13-43.8 25.2-65.6 38-12.2 7.2-11.8 21.3.5 28.4 18.1 10.5 36.3 20.9 54.5 31.4 1.6.9 3 2 5.1 3.4-1.8 1.3-3 2.4-4.3 3.2-15.1 8.7-30.3 17.3-45.4 26.1-2.5 1.5-4.4 1.5-6.8 0-14.9-8.7-30-17.2-44.9-26-1.9-1.1-3.6-4.1-3.7-6.2-.3-24.2-.3-48.3-.1-72.5 0-2 1.7-4.8 3.4-5.9 36.9-21.6 74-42.9 111-64.3 3.7-2.1 6.7-2.4 10.6-.2 20.3 12 40.9 23.7 61.2 35.7 1.6.9 3 3.6 3 5.5.3 17.3.3 34.6.4 52-.2 3.1-1.2 5.1-4.1 6.8zm71.9-168.4c-1.2 14.6-.4 29.3-.2 44 0 3.3-1.1 5.3-3.8 6.9-15.3 8.7-30.6 17.6-46 26.2-1.3.7-3.6.7-4.9-.1-21.3-12.1-42.5-24.3-63.6-36.6-1.6-.9-3.3-3.2-3.4-4.9-.3-12-.1-24-.1-36 0-.6.3-1.2.7-2.5 1.7.8 3.1 1.4 4.5 2.2 13 7.5 25.9 15.1 38.9 22.5 7.7 4.3 17 2 21.2-4.8 4.4-7.2 2.6-16.8-4.2-21.3-4.3-2.8-8.8-5.4-13.3-7.9-17.7-10.2-35.5-20.3-53.1-30.6-5.8-3.4-11.6-5.2-17.8-1.5-6.2 3.6-8.3 9.3-8.3 16.4.2 20.7-.1 41.3.1 62 0 3.5-1.3 5.6-4.1 7.2-32 18.4-64.1 36.8-96.1 55.2-1 .5-2 .9-3.7 1.6-.3-2.2-.7-3.9-.7-5.7 0-35.7.1-71.3-.1-107 0-5 1.5-8 6.1-10.6 42-24.1 83.9-48.5 125.8-72.7 22.6-13.1 45.3-26 67.8-39.3 4.1-2.4 7.2-2.5 11.4-.1 13.6 8.1 27.4 15.7 41.2 23.5 3.6 2.1 5.6 4.5 5.5 9.4-.5 18.3-.2 36.6-.2 55.8-1.2-.5-2.5-.7-3.5-1.3-17.7-10.2-35.4-20.5-53.2-30.7-4.9-2.8-9.7-6.1-15.8-4.7-6.4 1.4-11.3 6.6-12.4 13-1 6 1.8 12.6 7.3 15.8 22.1 12.8 44.1 25.8 66.4 38.1 7.9 4.2 12.4 8.5 11.6 18.5z\"/></SVG>\n\nexport const sendIcon = <SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 122.56 122.88\" fill=\"currentColor\"><Path fill-rule=\"evenodd\" d=\"m2.33 44.58 115-44.21a3.63 3.63 0 0 1 5 4.56l-44 115.61a3.63 3.63 0 0 1-6.67.28L53.93 84.14l35.19-50.37-50.27 35.09L2.06 51.24a3.63 3.63 0 0 1 .27-6.66Z\"/></SVG>;\n","import { __ } from '@wordpress/i18n';\nimport {\n\tPanel,\n\tTextControl,\n\tRangeControl,\n\tButton,\n\tFlex\n} from '@wordpress/components';\nimport { PluginSidebar } from '@wordpress/edit-site';\nimport {\n\tPluginSidebar as PostPluginSidebar,\n\tPluginSidebarMoreMenuItem,\n} from '@wordpress/edit-post';\nimport { registerPlugin } from '@wordpress/plugins';\nimport { withDispatch, withSelect } from '@wordpress/data';\nimport { compose, withState } from '@wordpress/compose';\nimport { check, update } from '@wordpress/icons';\nimport apiFetch from '@wordpress/api-fetch';\nimport { pluginIcon } from \"./icons\";\n\ninterface pluginOptions {\n\taiBlock: {\n\t\tapiKey: string,\n\t\tapiKeyStatus: string,\n\t\tmaxTokens: number,\n\t}\n}\n\ninterface pluginProps {\n\toptions: pluginOptions,\n\tsetOptions: ( values: pluginOptions ) => void,\n\tresponse: boolean,\n\tsetState: ( values: { [key: string]: any } ) => void,\n}\n\nconst sidebarProps = {\n\tname: 'ai-block',\n\ttitle: 'AI Block',\n\ticon: pluginIcon,\n};\n\nconst ApiKeyLabel = ( { valid }: { valid: boolean } ) => {\n\treturn (\n\t\t<>\n            <span\n\t\t\t\tclassName={ 'api-key-status is-' + ( valid ? 'valid' : 'invalid' ) }\n\t\t\t\tstyle={ {\n\t\t\t\t\tmarginLeft: '10px',\n\t\t\t\t\tpadding: '2px',\n\t\t\t\t\tcolor: valid ? '#03b365' : 'inherit',\n\t\t\t\t\tfontWeight: '500'\n\t\t\t\t} }\n\t\t\t>\n\t\t\t\t{ valid ? __( 'Valid', 'ai-block' ) : __( 'Inactive', 'ai-block' ) }\n\t\t\t</span>\n\t\t</>\n\t);\n};\n\nconst Plugin = compose(\n\twithSelect( ( select ) => {\n\t\treturn {\n\t\t\toptions: select( 'core' )?.getEditedEntityRecord( 'root', 'site' ) ?? {},\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch ) => {\n\t\treturn {\n\t\t\tsetOptions: ( values: { [key: string]: any } ) => {\n\t\t\t\tdispatch( 'core' )?.editEntityRecord( 'root', 'site', undefined, values );\n\t\t\t}\n\t\t}\n\t} ),\n\twithState( {\n\t\tresponse: false,\n\t} ),\n)( ( { options, setOptions, response, setState }: pluginProps ): JSX.Element => {\n\t\tconst isSiteEditor = document.body.classList.contains( 'site-editor-php' );\n\t\tconst apiKey       = options?.aiBlock?.apiKey ?? '';\n\t\tconst apiKeyStatus = options?.aiBlock?.apiKeyStatus ?? 'invalid';\n\t\tconst SidebarTag   = ( props: object ) => {\n\t\t\treturn isSiteEditor ? PluginSidebar( props ) : PostPluginSidebar( props );\n\t\t};\n\n\t\tasync function checkApiKey() {\n\t\t\tsetOptions( {\n\t\t\t\taiBlock: {\n\t\t\t\t\t...( options?.aiBlock ?? {} ),\n\t\t\t\t\tapiKeyStatus: 'loading',\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\tconst response: unknown = await apiFetch( {\n\t\t\t\tpath: '/ai-block/v1/completions/?prompt=check&max_tokens=2&api_key=' + encodeURI( apiKey ),\n\t\t\t\tmethod: 'GET'\n\t\t\t} ).then( response => response ).catch( error => error );\n\n\t\t\tconst status = response === 'valid' ? 'valid' : 'invalid';\n\n\t\t\tsetOptions( {\n\t\t\t\taiBlock: {\n\t\t\t\t\t...( options?.aiBlock ?? {} ),\n\t\t\t\t\tapiKeyStatus: status,\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\tif (status === 'valid') {\n\t\t\t\tsetState( {\n\t\t\t\t\tresponse: true,\n\t\t\t\t} );\n\t\t\t}\n\t\t}\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<PluginSidebarMoreMenuItem target={ 'ai-block' }>\n\t\t\t\t\t{ __( 'AI Block', 'ai-block' ) }\n\t\t\t\t</PluginSidebarMoreMenuItem>\n\n\t\t\t\t<SidebarTag { ...sidebarProps }>\n\t\t\t\t\t<Panel\n\t\t\t\t\t\ttitle={ __( 'API Key', 'ai-block' ) }\n\t\t\t\t\t\tclassName={ 'ai-block-settings' }\n\t\t\t\t\t>\n\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t<p\n\t\t\t\t\t\t\tclassName={ 'ai-block-label' }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'OpenAI API Key ', 'ai-block' ) }\n\t\t\t\t\t\t\t<ApiKeyLabel valid={ apiKeyStatus === 'valid' }/>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<Flex>\n\t\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t\tvalue={ options?.aiBlock?.apiKey }\n\t\t\t\t\t\t\t\tonChange={ ( value: string ) => setOptions( {\n\t\t\t\t\t\t\t\t\taiBlock: {\n\t\t\t\t\t\t\t\t\t\t...( options?.aiBlock ?? {} ),\n\t\t\t\t\t\t\t\t\t\tapiKey: value,\n\t\t\t\t\t\t\t\t\t\tapiKeyStatus: 'invalid',\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} ) }\n\t\t\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\t\t\tmarginBottom: '0',\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tisSmall\n\t\t\t\t\t\t\t\tisPrimary={ apiKeyStatus !== 'valid' }\n\t\t\t\t\t\t\t\tisBusy={ apiKeyStatus === 'loading' }\n\t\t\t\t\t\t\t\tdisabled={ apiKeyStatus === 'loading' || apiKeyStatus === 'valid' }\n\t\t\t\t\t\t\t\tonClick={ () => checkApiKey() }\n\t\t\t\t\t\t\t\tlabel={ __( 'Check', 'ai-block' ) }\n\t\t\t\t\t\t\t\ticon={ apiKeyStatus === 'valid' ? check : update }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Flex>\n\t\t\t\t\t\t{ apiKeyStatus !== 'valid' && (\n\t\t\t\t\t\t\t<p\n\t\t\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\t\t\tmarginTop: '8px',\n\t\t\t\t\t\t\t\t\tfontSize: '12px',\n\t\t\t\t\t\t\t\t\tfontStyle: 'normal',\n\t\t\t\t\t\t\t\t\tcolor: 'rgb( 117, 117, 117 )',\n\t\t\t\t\t\t\t\t\tmarginBottom: 0\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ __( 'Enter your OpenAI API key above. Get started with a free API key from ', 'ai-block' ) }\n\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\thref={ 'https://openai.com/api/' }\n\t\t\t\t\t\t\t\t\ttarget={ '_blank' }\n\t\t\t\t\t\t\t\t\trel={ 'noreferrer' }\n\t\t\t\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\t\t\t\tdisplay: 'block',\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ 'https://platform.openai.com/account/api-keys â†—' }\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t{ response &&\n\t\t\t\t\t\t  <p\n\t\t\t\t\t\t\t  style={ {\n\t\t\t\t\t\t\t\t  marginTop: '8px',\n\t\t\t\t\t\t\t\t  fontSize: '12px',\n\t\t\t\t\t\t\t\t  fontStyle: 'normal',\n\t\t\t\t\t\t\t\t  color: 'rgb( 117, 117, 117 )',\n\t\t\t\t\t\t\t\t  marginBottom: 0\n\t\t\t\t\t\t\t  } }\n\t\t\t\t\t\t  >\n\t\t\t\t\t\t\t  { __( 'API Key successfully validated. Please save your changes by clicking Update at the top of the page.', 'ai-block' ) }\n\t\t\t\t\t\t  </p>\n\t\t\t\t\t\t}\n\t\t\t\t\t</Panel>\n\n\t\t\t\t\t<Panel\n\t\t\t\t\t\tclassName={ 'ai-block-settings' }\n\t\t\t\t\t>\n\t\t\t\t\t\t<RangeControl\n\t\t\t\t\t\t\tlabel={ __( 'Max Tokens', 'ai-block' ) }\n\t\t\t\t\t\t\thelp={ __( 'The maximum number of tokens used to generate a response. The default is 25 (approximately 100 characters).', 'ai-block' ) }\n\t\t\t\t\t\t\tspinControls={ 'custom' }\n\t\t\t\t\t\t\tisShiftStepEnabled={ true }\n\t\t\t\t\t\t\tvalue={ options?.aiBlock?.maxTokens ?? 25 }\n\t\t\t\t\t\t\tonChange={ ( value: number ) => setOptions( {\n\t\t\t\t\t\t\t\taiBlock: {\n\t\t\t\t\t\t\t\t\t...( options?.aiBlock ?? {} ),\n\t\t\t\t\t\t\t\t\tmaxTokens: value,\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} ) }\n\t\t\t\t\t\t\tshiftStep={ 10 }\n\t\t\t\t\t\t\tstep={ 1 }\n\t\t\t\t\t\t\tmin={ 2 }\n\t\t\t\t\t\t\tmax={ 250 }\n\t\t\t\t\t\t\tallowReset={ true }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Panel>\n\t\t\t\t</SidebarTag>\n\t\t\t</>\n\t\t);\n\t}\n);\n\nregisterPlugin( 'ai-block', {\n\ticon: sidebarProps.icon,\n\trender: Plugin\n} );\n","// extracted by mini-css-extract-plugin\nexport {};","module.exports = window[\"wp\"][\"apiFetch\"];","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"blocks\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"compose\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"editPost\"];","module.exports = window[\"wp\"][\"editSite\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"wp\"][\"plugins\"];","module.exports = window[\"wp\"][\"primitives\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { __ } from '@wordpress/i18n';\nimport apiFetch from '@wordpress/api-fetch';\nimport { registerBlockType, createBlock, BlockConfiguration } from '@wordpress/blocks';\nimport { useState } from \"@wordpress/element\";\nimport {\n\tButton,\n\tFlex\n} from \"@wordpress/components\";\nimport { useSelect, useDispatch } from \"@wordpress/data\";\nimport { RichText } from \"@wordpress/block-editor\";\nimport { moreHorizontalMobile } from '@wordpress/icons';\nimport { pluginIcon, sendIcon } from \"./icons\";\nimport \"./settings.tsx\";\n\nimport blockJson from './block.json';\n\nimport './index.scss';\n\nconst metadata: BlockConfiguration = blockJson ?? {};\n\nregisterBlockType( metadata, {\n\ticon: pluginIcon,\n\tedit: props => {\n\t\tconst { clientId }                = props;\n\t\tconst [ prompt, setPrompt ]       = useState( '' );\n\t\tconst [ isLoading, setIsLoading ] = useState( false );\n\t\tconst dispatch                    = useDispatch( 'core/block-editor' );\n\n\t\tconst { options, index } = useSelect( select => {\n\t\t\treturn {\n\t\t\t\toptions: select( 'core' )?.getEditedEntityRecord( 'root', 'site' ) ?? {},\n\t\t\t\tindex: select( 'core/block-editor' )?.getBlockIndex( {}, clientId ) ?? 0,\n\t\t\t}\n\t\t}, [] );\n\n\t\tconst apiKeyStatus = options?.aiBlock?.apiKeyStatus ?? 'invalid';\n\n\t\t// Send the user's message to the chatbot API and get the response.\n\t\tasync function sendMessage() {\n\t\t\tif ( ! prompt ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tsetIsLoading( true );\n\n\t\t\tconst response: string = await apiFetch( {\n\t\t\t\tpath: '/ai-block/v1/completions/?prompt=' + encodeURI( prompt ) + '&max_tokens=' + options?.aiBlock?.maxTokens ?? 25,\n\t\t\t\tmethod: 'GET'\n\t\t\t} );\n\n\t\t\tconsole.log( response );\n\n\t\t\tif ( ! response ) {\n\t\t\t\tsetIsLoading( false );\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet responseBlocks = response\n\t\t\t?.split( '\\n' )\n\t\t\t?.map( ( line: string ) => createBlock( 'core/paragraph', {\n\t\t\t\tcontent: line,\n\t\t\t} ) );\n\n\t\t\tresponseBlocks = responseBlocks.filter( ( block: any ) => block.attributes.content !== '' );\n\n\t\t\tif ( ! responseBlocks ) {\n\t\t\t\tsetIsLoading( false );\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst group = createBlock( 'core/group', {}, responseBlocks );\n\n\t\t\tdispatch.insertBlock( group, index );\n\n\t\t\tsetIsLoading( false );\n\t\t}\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<Flex\n\t\t\t\t\tclassName={ 'ai-block' }\n\t\t\t\t\tjustify={ 'space-between' }\n\t\t\t\t\tgap={ '1em' }\n\t\t\t\t>\n\t\t\t\t\t<RichText\n\t\t\t\t\t\tvalue={ prompt }\n\t\t\t\t\t\tonChange={ ( newPrompt: string ) => setPrompt( newPrompt ) }\n\t\t\t\t\t\tplaceholder={ __( 'How can I help today?', 'ai-block' ) }\n\t\t\t\t\t\t__unstableDisableFormats\n\t\t\t\t\t\tpreserveWhiteSpace\n\t\t\t\t\t\ttagName={ 'p' }\n\t\t\t\t\t\tmultiline={ false }\n\t\t\t\t\t/>\n\n\t\t\t\t\t<Button\n\t\t\t\t\t\tisSmall\n\t\t\t\t\t\tisBusy={ isLoading }\n\t\t\t\t\t\tdisabled={ isLoading || ! prompt || apiKeyStatus !== 'valid' }\n\t\t\t\t\t\tonClick={ () => sendMessage() }\n\t\t\t\t\t\tlabel={ __( 'Send', 'ai-block' ) }\n\t\t\t\t\t\ticon={ isLoading ? moreHorizontalMobile : sendIcon }\n\t\t\t\t\t/>\n\t\t\t\t</Flex>\n\t\t\t</>\n\t\t)\n\t},\n\tsave: () => null,\n} );\n"],"names":["SVG","Path","pluginIcon","sendIcon","__","Panel","TextControl","RangeControl","Button","Flex","PluginSidebar","PostPluginSidebar","PluginSidebarMoreMenuItem","registerPlugin","withDispatch","withSelect","compose","withState","check","update","apiFetch","sidebarProps","name","title","icon","ApiKeyLabel","valid","marginLeft","padding","color","fontWeight","Plugin","select","options","getEditedEntityRecord","dispatch","setOptions","values","editEntityRecord","undefined","response","setState","isSiteEditor","document","body","classList","contains","apiKey","aiBlock","apiKeyStatus","SidebarTag","props","checkApiKey","path","encodeURI","method","then","catch","error","status","value","marginBottom","marginTop","fontSize","fontStyle","display","maxTokens","render","registerBlockType","createBlock","useState","useSelect","useDispatch","RichText","moreHorizontalMobile","blockJson","metadata","edit","clientId","prompt","setPrompt","isLoading","setIsLoading","index","getBlockIndex","sendMessage","console","log","responseBlocks","split","map","line","content","filter","block","attributes","group","insertBlock","newPrompt","save"],"sourceRoot":""}